<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clandestino - Miembros</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div id="header"></div>
        <script>
        // Cargar el contenido de header.html dentro del div con id="header"
        fetch('header.html')
        .then(response => response.text())
        .then(data => document.getElementById('header').innerHTML = data);
        </script>
    </header>

    <!-- Sección principal con imagen de fondo -->
    <section id="banner-universidad">
        <div class="banner-content">
            <h1>Universidad</h1>
            <p>Diversidad académica, 40 maneras de transformar tu mundo.</p>
        </div>
    </section>
    <style>
        body {
            background-color: #1a1a1a; /* Fondo oscuro */
            color: #eaeaea; /* Texto claro */
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }

        h1 {
            color: #ffffff; /* Color dorado, estilo elegante */
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        table {
            width: 80%;
            margin: 0 auto;
            border-collapse: collapse;
            font-size: 1.1em;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        th, td {
            padding: 15px;
            text-align: center;
        }

        th {
            background-color: #ecc957; /* Encabezados con color dorado */
            color: #1a1a1a; /* Texto oscuro en encabezado */
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td {
            background-color: #2c2c2c; /* Fondo de las celdas */
            border-bottom: 2px solid #ffffff; /* Líneas doradas entre filas */
            color: #eaeaea;
        }

        tr:hover td {
            background-color: #444; /* Efecto hover */
        }

        table caption {
            margin-top: 10px;
            font-size: 1.2em;
            color: #ccc;
        }

        /* Hacer la tabla responsiva */
        @media (max-width: 768px) {
            table, th, td {
                font-size: 0.9em;
            }

            table {
                width: 100%;
            }
        }
        .result {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-bottom: 40px;
        }

        .materia {
            width: 360px;
            background-color: #2c2c2c;
            padding: 15px;
            margin: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            text-align: center;
        }

        .materia img {
            width: 100;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            transition: transform 0.3s ease; /* Suaviza la animación */
}
        .materia img:hover {
            transform: scale(1.1); /* Agranda la imagen un 10% al hacer hover */
        }
        

        .materia h3 {
            color: #ecc957;
            margin: 10px 0;
        }

        .materia p {
            color: #eaeaea;
        }

        #analysis, #command {
            margin-bottom: 40px;
            text-align: center;
            color: #ccc;
        }

        .command-box {
            background-color: #2c2c2c;
            padding: 10px;
            border-radius: 10px;
            color: #ecc957;
            font-family: monospace;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .materia {
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <table id="excelTable">
        <!-- Aquí se llenarán los datos de Excel -->
    </table>

    <!-- SheetJS (cargar desde CDN) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script>
        // Ruta del archivo Excel
        const excelFile = 'data/universidad.xlsx'; // Cambia esto a la ubicación de tu archivo Excel

        // Leer el archivo Excel y mostrarlo en la tabla
        fetch(excelFile)
            .then(res => res.arrayBuffer())
            .then(data => {
                const workbook = XLSX.read(data, { type: 'array' });
                const firstSheet = workbook.Sheets[workbook.SheetNames[0]];
                const excelData = XLSX.utils.sheet_to_json(firstSheet, { header: 1 });

                let table = '<tr>';
                excelData[0].forEach(header => table += `<th>${header}</th>`);
                table += '</tr>';

                for (let i = 1; i < excelData.length; i++) {
                    table += '<tr>';
                    excelData[i].forEach(cell => table += `<td>${cell || ''}</td>`);
                    table += '</tr>';
                }

                document.getElementById('excelTable').innerHTML = table;
            })
            .catch(err => console.log(err));
    </script>

<h1>Búsqueda de Materias</h1>

<!-- Consulta 1 - Materia con nombre específico -->
<div id="command">
    <h3>Consulta MongoDB utilizada:</h3>
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ nombre: { $eq: "Fundamentos de Programación" } })</p>
    </div>
    <p>Se encontraron <strong>1 resultado</strong>.</p>
</div>

<div class="result" id="resultContainer1"></div>

<!-- Consulta 2 - Materias con créditos mayor que 3 -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ creditos: { $gt: 3 } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer2"></div>

<!-- Consulta 3 - Materias con horas teóricas >= 48 -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ horas_teoricas: { $gte: 48 } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer3"></div>

<!-- Consulta 4 - Materias con horas prácticas < 32 -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ horas_practicas: { $lt: 32 } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer4"></div>

<!-- Consulta 5 - Materias con código <= "INF3056" -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ codigo: { $lte: "INF3056" } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer5"></div>

<!-- Consulta 6 - Profesores que no sean "Dr. Antonio Rodríguez García" -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ profesores_responsables: { $ne: "Dr. Antonio Rodríguez García" } })</p>
    </div>
    <p>Se encontraron <strong>1 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer6"></div>

<!-- Consulta 7 - Aulas específicas -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ aulas_asignadas: { $in: ["Aula T-14", "Laboratorio T-101", "Aula B-203"] } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer7"></div>

<!-- Consulta 8 - Aulas que no son específicas -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ aulas_asignadas: { $nin: ["Aula T-14", "Laboratorio T-101", "Aula B-203"] } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer8"></div>

<!-- Consulta 9 - Materias con créditos >= 3 y promedio de calificaciones > 7.5 -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.find({ creditos: { $gte: 3 }, promedio_calificaciones: { $gt: 7.5 } })</p>
    </div>
    <p>Se encontraron <strong>2 resultados</strong>.</p>
</div>

<div class="result" id="resultContainer9"></div>

<!-- Consulta 10 - Eliminación de materia -->
<div id="command">
    <div class="command-box">
        <p style="font-size: 1.2em;">db.materias.deleteOne({ codigo: "INF3056" })</p>
    </div>
    <p>Se eliminó la materia <strong>"Desarrollo de Aplicaciones Móviles"</strong>.</p>
</div>

<!-- Contenedor de resultado de la materia eliminada -->
<div class="result" id="resultContainer10">
    <div class="materia">
        <img src="img/universidad/100.jpg" alt="Desarrollo de Aplicaciones Móviles">
        <h3>Desarrollo de Aplicaciones Móviles</h3>
        <p>Código: INF3056</p>
        <p>Creditos: 4</p>
    </div>
</div>

<!-- Script que muestra los resultados -->
<script>
    // Datos de las consultas
    const materias1 = [{ nombre: 'Fundamentos de Programación', codigo: 'INF1011', img: 'img/universidad/11.jpg' }];
    const materias2 = [
        { nombre: 'Álgebra Lineal', creditos: 4, img: 'img/universidad/21.jpg' },
        { nombre: 'Estructuras de Datos', creditos: 4, img: 'img/universidad/22.jpg' }
    ];
    const materias3 = [
        { nombre: 'Fundamentos de Programación', horas_teoricas: 48, img: 'img/universidad/31.jpg' },
        { nombre: 'Bases de Datos', horas_teoricas: 48, img: 'img/universidad/32.jpg' }
    ];
    const materias4 = [
        { nombre: 'Ingeniería de Requisitos', horas_practicas: 16, img: 'img/universidad/41.jpg' },
        { nombre: 'Sistemas Inteligentes', horas_practicas: 32, img: 'img/universidad/42.jpg' }
    ];
    const materias5 = [
        { nombre: 'Cálculo Integral', codigo: 'MAT2043', img: 'img/universidad/51.jpg' },
        { nombre: 'Cálculo Diferencial', codigo: 'MAT1042', img: 'img/universidad/52.jpg' }
    ];
    const materias6 = [
        { nombre: 'Fundamentos de Programación', profesores_responsables: 'Dr. Antonio Rodríguez García', img: 'img/universidad/31.jpg' }
    ];
    const materias7 = [
        { nombre: 'Fundamentos de Programación', aula: 'Aula T-14', img: 'img/universidad/31.jpg' },
        { nombre: 'Estructuras de Datos', aula: 'Laboratorio T-101', img: 'img/universidad/22.jpg' }
    ];
    const materias8 = [
        { nombre: 'Arquitectura de Computadores', aula: 'Laboratorio C-204', img: 'img/universidad/81.jpg' },
        { nombre: 'Redes de Computadores', aula: 'Aula R-303', img: 'img/universidad/82.jpg' }
    ];
    const materias9 = [
        { nombre: 'Robótica', creditos: 5, promedio_calificaciones: 8.7, img: 'img/universidad/91.jpg' },
        { nombre: 'Inteligencia Artificial', creditos: 4, promedio_calificaciones: 9.1, img: 'img/universidad/92.jpg' }
    ];
    const materias10 = [ { nombre: 'Inteligencia Artificial', creditos: 4, promedio_calificaciones: 9.1, img: 'img/universidad/100.jpg' }]; // Ninguna materia eliminada (asumimos)

    // Función para cargar las materias
    function loadMaterias(containerId, materias) {
        const container = document.getElementById(containerId);
        materias.forEach(materia => {
            const materiaDiv = document.createElement('div');
            materiaDiv.classList.add('materia');
            materiaDiv.innerHTML = `
                <img src="${materia.img || ''}" alt="${materia.nombre}">
                <h3>${materia.nombre}</h3>`;
            container.appendChild(materiaDiv);
        });
    }

    // Cargar los resultados en los contenedores correspondientes
    window.onload = function() {
        loadMaterias('resultContainer1', materias1);
        loadMaterias('resultContainer2', materias2);
        loadMaterias('resultContainer3', materias3);
        loadMaterias('resultContainer4', materias4);
        loadMaterias('resultContainer5', materias5);
        loadMaterias('resultContainer6', materias6);
        loadMaterias('resultContainer7', materias7);
        loadMaterias('resultContainer8', materias8);
        loadMaterias('resultContainer9', materias9);
        
        
        // La materia eliminada será mostrada estáticamente ya que se ha eliminado de la base de datos.
    };
</script>

    <!-- Pie de página -->
    <footer>
        <p>&copy; 2024 Clandestino. Todos los derechos reservados.</p>
    </footer>
</body>
</html>
